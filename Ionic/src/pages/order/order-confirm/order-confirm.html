<!--
  Generated template for the OrderConfirmPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar >
    <ion-title>Confirm Order</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <table style="width:100%" >
    <tr>
      <th style="width:50%">Flavour</th>
      <th style="width:25%" text-center>Amount</th>
      <th style="width:25%" text-center>Price</th>
    </tr>
  </table>
  <table style="width:100%" *ngFor="let item of shoppingCart?.cart">
    <!--<div *ngFor="let item of shoppingCart?.cart">-->
      <tr *ngFor="let ice of item?.iceCream" >
        <td style="width:50%">{{ice.name}}</td>
        <td style="width:25%" text-center="">{{ice.amount}}</td>
        <td style="width:25%" text-center class="addEuro">{{ice.price| number: '1.2-2'}}</td>
      </tr>
  </table>
  <table style="width:100%">
    <tr  >
      <td style="width:50%">Total</td>
      <td style="width:25%" text-center=""></td>
      <td style="width:25%" text-center class="addEuro">{{chosenDiver?.totalPrice | number: '1.2-2'}}</td>
    </tr>
  </table>
  <ion-row>
    <ion-col col-6="">
      <button ion-button full color="danger" type="button"
              round="" (click)="onCancelOrder()">
        Cancel Order
      </button>
    </ion-col>
    <ion-col col-6="">
      <button ion-button color="primary" type="button"
                round="" full (click)="onConfirmOrder()">

        Confirm Order
      </button>
    </ion-col>
  </ion-row>
  <ion-card>
    <ion-card-header text-center>
      Driver details
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-icon name="contact" icon-only large="" item-start color="primary"></ion-icon>
          <div class="whiteSpace">{{chosenDiver?.firstName }} {{ chosenDiver?.lastName}}</div>
        </ion-item>
        <ion-item >
          <ion-icon name="locate" icon-only large="" item-start color="primary"></ion-icon>
          <div class="whiteSpace">{{chosenDiver?.locationAddress}}</div>
        </ion-item>
        <ion-item>
          <ion-icon name="navigate" icon-only large="" item-start color="primary"></ion-icon>
          {{chosenDiver?.distance / 1000 | number: '1.2-2'}} km
        </ion-item>
        <!-- <ion-item>
          <ion-icon name="time" icon-only large="" item-start color="primary"></ion-icon>
          {{chosenDiver?.duration / 60 | number: '1.1-1'}} min
        </ion-item> -->
      </ion-list>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header text-center>
      Reviews
    </ion-card-header>
    <ion-card-content >
      <ion-list *ngFor="let driverReview of driverReviews">
        <ion-item class="noPadding">
          <star-rating-comp item-start [starType]="'svg'"
                            numOfStars="5"
                            size="medium"
                            [rating]="driverReview.rating"
                            [staticColor]="'ok'"
                            [readOnly]="true"
          ></star-rating-comp>
        </ion-item>
        <ion-item class="noPadding" *ngIf="driverReview.review != ''">
          <div class="whiteSpace"> {{driverReview.review}}</div>
        </ion-item>
        <ion-item class="noPadding">
          <p><i>{{driverReview.reviewerName}}</i></p>
          <!--<p text-center="">______________________________</p>-->
          <hr>
        </ion-item>
        <hr>
      </ion-list>
    </ion-card-content>

  </ion-card>
</ion-content>
